(this["webpackJsonpmovie-react"]=this["webpackJsonpmovie-react"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(19),i=c.n(n),r=c(9),l=c(2),o=c(8),d="[watchList] add movie to watch list",j="[watchList] remove movie from watch list",h="[watched] add movie to watched",b="[watched] movie to watch list",u="[watched] remove to watched",m=c(14),O=c(7),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(O.a)(Object(O.a)({},e),{},{watchlist:[t.payload].concat(Object(m.a)(e.watchlist))});case j:return Object(O.a)(Object(O.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case h:return Object(O.a)(Object(O.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(m.a)(e.watched))});case b:return Object(O.a)(Object(O.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(m.a)(e.watchlist))});case u:return Object(O.a)(Object(O.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},x=c(0),f={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},p=Object(a.createContext)(f),w=function(e){var t=e.children,c=Object(a.useReducer)(v,f),s=Object(o.a)(c,2),n=s[0],i=s[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(n.watchlist)),localStorage.setItem("watched",JSON.stringify(n.watched))}),[n]);return Object(x.jsx)(p.Provider,{value:{watchlist:n.watchlist,watched:n.watched,addMovieToWatchlist:function(e){i({type:d,payload:e})},removeMovieFromWatchlist:function(e){i({type:j,payload:e})},addMovieToWatched:function(e){i({type:h,payload:e})},movieToWatchlist:function(e){i({type:b,payload:e})},removeFromWatched:function(e){i({type:u,payload:e})}},children:t})},N=function(e){var t=e.movie,c=Object(a.useContext)(p),s=c.addMovieToWatchlist,n=c.watchlist,i=c.watched,r=c.addMovieToWatched,l=n.find((function(e){return e.id===t.id})),o=i.find((function(e){return e.id===t.id})),d=!!l||!!o,j=!!o;return Object(x.jsxs)("div",{className:"result-card",children:[Object(x.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(x.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(x.jsx)("div",{className:"filter-poster"})}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("h3",{className:"title",children:t.title}),Object(x.jsx)("h4",{className:"release-date",children:t.release_date?t.release_date.substring(0,4):"-"})]}),Object(x.jsxs)("div",{className:"controls",children:[Object(x.jsx)("button",{className:"btn",disabled:d,onClick:function(){return s(t)},children:"Add to WatchList"}),Object(x.jsx)("button",{className:"btn",disabled:j,onClick:function(){return r(t)},children:"Add to Watched"})]})]})]})},g=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),i=Object(o.a)(n,2),r=i[0],l=i[1];return Object(x.jsx)("div",{className:"add-page",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"add-content",children:[Object(x.jsx)("div",{className:"input-wrapper",children:Object(x.jsx)("input",{type:"text",placeholder:"Search a movie",value:c,onChange:function(e){e.preventDefault(),s(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("a19d9190019617f1d21e36321758988d","&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))}})}),r.length<0?Object(x.jsx)("h1",{children:"No Movies"}):Object(x.jsx)("ul",{className:"results",children:r.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(N,{movie:e})},e.id)}))})]})})})},y=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1],n={left:c?0:"-100%"};return Object(x.jsx)("header",{children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"inner-content",children:[Object(x.jsx)("div",{className:"brand",children:Object(x.jsx)(r.b,{to:"/",children:"WatchList"})}),Object(x.jsxs)("ul",{className:"nav-links",style:n,children:[Object(x.jsx)("li",{onClick:function(){return s(!c)},children:Object(x.jsx)(r.b,{to:"/",children:"Watch List"})}),Object(x.jsx)("li",{onClick:function(){return s(!c)},children:Object(x.jsx)(r.b,{to:"/watched",children:"Watched"})}),Object(x.jsx)("li",{onClick:function(){return s(!c)},children:Object(x.jsx)(r.b,{to:"/add",className:"btn",children:"Add Movie"})}),Object(x.jsx)("li",{className:"cruz",onClick:function(){return s(!c)},children:Object(x.jsx)("i",{className:"fas fa-times"})})]}),Object(x.jsx)("div",{className:"menu",onClick:function(){return s(!c)},children:Object(x.jsx)("i",{className:"fas fa-bars"})})]})})})},C=function(e){var t=e.movie,c=e.type,s=Object(a.useContext)(p),n=s.removeMovieFromWatchlist,i=s.addMovieToWatched,r=s.movieToWatchlist,l=s.removeFromWatched;return Object(x.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===c&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(t)},children:Object(x.jsx)("i",{className:"fa-fw far fa-eye"})}),Object(x.jsx)("button",{className:"ctrl-btn",onClick:function(){return n(t.id)},children:Object(x.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"watched"===c&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(t)},children:Object(x.jsx)("i",{className:"fa-fw far fa-eye-slash"})}),Object(x.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(t.id)},children:Object(x.jsx)("i",{className:"fa-fw fa fa-times"})})]})]})},W=function(e){var t=e.movie,c=e.type;return Object(x.jsxs)("div",{className:"movie-card",children:[Object(x.jsx)("div",{className:"overlay"}),t.poster_path?Object(x.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(x.jsx)("div",{className:"filter-poster"}),Object(x.jsx)(C,{type:c,movie:t})]})},S=function(){var e=Object(a.useContext)(p).watched;return Object(x.jsx)("div",{className:"movie-page",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("h1",{className:"heading",children:"Watched Movies"}),Object(x.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),Object(x.jsx)("hr",{}),e.length>0?Object(x.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(x.jsx)(W,{movie:e,type:"watched"},e.id)}))}):Object(x.jsx)("h2",{className:"no-movies",children:"No movies in your list"})]})})},M=function(){var e=Object(a.useContext)(p).watchlist;return Object(x.jsx)("div",{className:"movie-page",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("h1",{className:"heading",children:"My Watchlist"}),Object(x.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),Object(x.jsx)("hr",{}),e.length>0?Object(x.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(x.jsx)(W,{movie:e,type:"watchlist"},e.id)}))}):Object(x.jsx)("h2",{className:"no-movies",children:"No movies in your list"})]})})};c(32),c(33);var k=function(){return Object(x.jsx)(w,{children:Object(x.jsxs)(r.a,{children:[Object(x.jsx)(y,{}),Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{exact:!0,path:"/",component:M}),Object(x.jsx)(l.a,{exact:!0,path:"/watched",component:S}),Object(x.jsx)(l.a,{exact:!0,path:"/add",component:g})]})]})})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root")),F()}},[[34,1,2]]]);
//# sourceMappingURL=main.ba7e4010.chunk.js.map